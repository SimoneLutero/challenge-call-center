-module(call_center_serv).

-include("sockserv.erl").
-include("utils.erl").

start(Name) ->
    sockserv:start().

stop(Name) ->
    sockserv:terminate(normal, []).

start_link(Name) ->
    sockserv:start_link({local, Name}, ?MODULE, [], []).

init(_Args) ->
    sockserv:init(_Args).

% A function to call the server

% The function to pass to the server to handle the call.

accept_call(client_id)->
    client_id ! {ok, 'Connection estabilished'}
    {ok, Port} = application:get_env(erl_playground, tcp_port),
    sockserv:handle_info({tcp, Port, utils:add_envelope('Ciao')})


